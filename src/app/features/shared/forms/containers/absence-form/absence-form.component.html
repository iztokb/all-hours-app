<ng-container *ngIf="record">
  <form class="form-wrapper" [formGroup]="form" novalidate autocomplete="off">
    <div class="form-group-container">
      <div class="id-container">
        <p class="id-label">
          {{ "common-forms-1" | i18nPhrase }}: {{ record?.Id }}
        </p>
      </div>
      <div class="field-container">
        <mat-form-field [floatLabel]="'always'">
          <mat-label>{{ "common-forms-13" | i18nPhrase }}</mat-label>
          <mat-select
            [compareWith]="compareLists"
            [placeholder]="'common-forms-12' | i18nPhrase"
            formControlName="absenceType"
          >
            <mat-option *ngFor="let record of absenceTypeList" [value]="record">
              {{ record?.value }}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="form.get('absenceType')?.errors as errors">
            <span *ngIf="errors['required']">
              {{ "common-forms-4" | i18nPhrase }}
            </span>
          </mat-error>
        </mat-form-field>
      </div>
      <div class="field-container">
        <mat-form-field [floatLabel]="'always'">
          <mat-label>{{ "common-forms-14" | i18nPhrase }}</mat-label>
          <mat-select
            [compareWith]="compareUsersLists"
            [placeholder]="'common-forms-12' | i18nPhrase"
            formControlName="user"
          >
            <mat-option *ngFor="let record of users" [value]="record">
              {{ record?.FirstName }} {{ record?.LastName }}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="form.get('user')?.errors as errors">
            <span *ngIf="errors['required']">
              {{ "common-forms-4" | i18nPhrase }}
            </span>
          </mat-error>
        </mat-form-field>
      </div>
      <div class="field-container">
        <mat-form-field [floatLabel]="'always'">
          <mat-label>{{ "common-forms-15" | i18nPhrase }}</mat-label>
          <textarea
            class="text-area-form-control"
            matInput
            cdkTextareaAutosize
            [placeholder]="'common-forms-16' | i18nPhrase"
            cdkAutosizeMinRows="5"
            cdkAutosizeMaxRows="10"
            formControlName="comment"
          ></textarea>
          <mat-error *ngIf="form.get('comment')?.errors as errors">
            <span *ngIf="errors['required']">
              {{ "common-forms-4" | i18nPhrase }}
            </span>
          </mat-error>
        </mat-form-field>
      </div>
      <div class="date-field-container">
        <mat-form-field [floatLabel]="'always'">
          <mat-label>{{ "common-forms-17" | i18nPhrase }}</mat-label>
          <input
            matInput
            [matDatepicker]="datepickerFrom"
            [placeholder]="'common-forms-16' | i18nPhrase"
            formControlName="from"
          />
          <mat-datepicker-toggle
            matSuffix
            [for]="datepickerFrom"
          ></mat-datepicker-toggle>
          <mat-datepicker #datepickerFrom>
            <mat-datepicker-actions>
              <button mat-button matDatepickerCancel>
                {{ "common-forms-20" | i18nPhrase }}
              </button>
              <button mat-raised-button color="primary" matDatepickerApply>
                {{ "common-forms-19" | i18nPhrase }}
              </button>
            </mat-datepicker-actions>
          </mat-datepicker>
          <mat-error *ngIf="form.get('from')?.errors as errors">
            <span *ngIf="errors['required']">
              {{ "common-forms-4" | i18nPhrase }}
            </span>
          </mat-error>
        </mat-form-field>
      </div>
      <div class="date-field-container">
        <mat-form-field [floatLabel]="'always'">
          <mat-label>{{ "common-forms-18" | i18nPhrase }}</mat-label>
          <input
            matInput
            [matDatepicker]="datepickerTo"
            [placeholder]="'common-forms-16' | i18nPhrase"
            formControlName="to"
          />
          <mat-datepicker-toggle
            matSuffix
            [for]="datepickerTo"
          ></mat-datepicker-toggle>
          <mat-datepicker #datepickerTo>
            <mat-datepicker-actions>
              <button mat-button matDatepickerCancel>
                {{ "common-forms-20" | i18nPhrase }}
              </button>
              <button mat-raised-button color="primary" matDatepickerApply>
                {{ "common-forms-19" | i18nPhrase }}
              </button>
            </mat-datepicker-actions>
          </mat-datepicker>
          <mat-error *ngIf="form.get('to')?.errors as errors">
            <span *ngIf="errors['required']">
              {{ "common-forms-4" | i18nPhrase }}
            </span>
          </mat-error>
        </mat-form-field>
      </div>
    </div>
    <div class="form-group-container">
      <div class="command-container">
        <button
          mat-button
          type="button"
          class="command"
          (click)="cancelClicked()"
        >
          {{ "common-forms-9" | i18nPhrase }}
        </button>
        <button
          mat-raised-button
          type="button"
          color="primary"
          [disabled]="form?.invalid || submitInProgress"
          class="command"
          (click)="saveFormClicked(record)"
        >
          {{ "common-forms-10" | i18nPhrase }}
        </button>
      </div>
    </div>
  </form>
</ng-container>
